<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Air Flow Pvt. Ltd Â· Comprehension Test</title>
  <link rel="icon" type="image/png" href="https://airflow.in/wp-content/uploads/2021/12/cropped-AIR-1.png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root{
      --brand:#0053a6;
      --brand-2:#36d1dc;
      --brand-3:#5b86e5;
      --bg:#eaf4ff;
      --card:#ffffff;
      --text:#1f2937;
      --muted:#6b7280;
      --radius:16px;
      --shadow:0 8px 24px rgba(0,0,0,.08);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
      line-height:1.6;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* ===== Header ===== */
    .header{
      position:sticky;top:0;z-index:1000;
      display:flex;align-items:center;gap:12px;flex-wrap:wrap;
      background:var(--card);
      border-bottom:1px solid #e5e7eb;
      padding:12px clamp(14px,4vw,40px);
      box-shadow:0 2px 10px rgba(0,0,0,.04);
    }
    .header img{height:48px;width:auto;object-fit:contain;filter:brightness(1.08) contrast(1.1)}
    .header h1{margin:0;color:var(--brand);font-weight:700;font-size:clamp(18px,2.2vw,28px);word-break:break-word}

    /* ===== Layout wrappers ===== */
    .section{max-width:min(1100px,92vw);margin:18px auto;padding:clamp(12px,2vw,20px)}
    .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:clamp(16px,2.8vw,28px)}

    /* ===== Auth ===== */
    .login{display:grid;gap:20px;align-items:center;grid-template-columns:1.1fr 1fr}
    .login .media{display:flex;align-items:center;justify-content:center}
    .login .media img{width:100%;max-width:520px;height:auto;border-radius:20px;box-shadow:var(--shadow)}

    .form{display:grid;gap:14px}
    .form h2{margin:0 0 6px;font-size:clamp(18px,2vw,24px)}
    label{font-size:.95rem}
    .input{width:100%;padding:12px 14px;border-radius:999px;border:1px solid #d1d5db;outline:none;background:#fff;font:inherit}
    .input:focus{border-color:var(--brand);box-shadow:0 0 0 3px rgba(59,130,246,.2)}
    .error{color:#dc2626;font-size:.9rem;display:none}
    .btn{display:inline-flex;justify-content:center;align-items:center;gap:8px;padding:12px 16px;border:0;border-radius:999px;font-weight:600;cursor:pointer;color:#fff;background:linear-gradient(90deg,var(--brand-2),var(--brand-3));transition:transform .06s ease, opacity .2s;touch-action:manipulation}
    .btn:active{transform:translateY(1px)}
    .btn[disabled]{opacity:.6;cursor:not-allowed}

    /* ===== Test page ===== */
    .topbar{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin:6px 0 12px}
    .timer{font-weight:700}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:6px 12px;border-radius:999px;background:#eef2ff;color:#4338ca;font-weight:600}

    #paragraph{white-space:pre-wrap}
    .blurred{filter:blur(4px);user-select:none;pointer-events:none;transition:filter .3s ease}

    .proceed{margin-top:10px}

    /* ===== Questions ===== */
    .mcq p{margin-bottom:12px}
    .opt{display:block;margin:.35rem 0;padding:.75rem .8rem;border-radius:12px;border:1px solid #e5e7eb}
    .opt input{margin-right:.55rem;transform:scale(1.15)}

    /* ===== Results ===== */
    .grid{display:grid;gap:18px;grid-template-columns:1fr 1fr;align-items:start}
    #resultChart{max-width:520px}
    .answers .correct{color:#16a34a;font-weight:700}
    .answers .incorrect{color:#dc2626;font-weight:700}

    /* ===== Success ===== */
    .center{display:flex;align-items:center;justify-content:center;text-align:center;min-height:40vh}

    /* ===== Responsive ===== */
    @media (max-width: 1024px){
      .grid{grid-template-columns:1fr}
    }

    @media (max-width: 900px){
      .login{grid-template-columns:1fr}
      .header{gap:10px}
      .header img{height:42px}
      .header h1{font-size:clamp(16px,4vw,22px)}
    }

    @media (max-width: 640px){
      .card{padding:16px}
      .section{padding:12px}
      .topbar{flex-direction:column;align-items:stretch}
      .pill{justify-content:center}
      .btn,.proceed{width:100%}
      .login .media img{max-width:360px}
      .input{padding:14px 16px;font-size:16px} /* avoid iOS zoom */
    }

    @media (max-width: 420px){
      .header{padding:10px 12px}
      .header img{height:36px}
      .header h1{font-size:clamp(14px,4.2vw,18px)}
      .opt{padding:.7rem .75rem}
    }

    @media (prefers-reduced-motion: reduce){
      *{scroll-behavior:auto !important;animation:none !important;transition:none !important}
    }
  </style>
</head>
<body>
  <header class="header" role="banner">
    <img src="https://airflow.in/wp-content/uploads/2021/12/cropped-AIR-1.png" alt="Air Flow Pvt. Ltd. logo" />
    <h1>Air Flow Pvt. Ltd Â· Comprehension Reading Test</h1>
  </header>

  <!-- Main -->
  <main class="section">
    <!-- Login -->
    <section id="loginPage" class="card login" aria-labelledby="loginHeading">
      <div class="media" aria-hidden="true">
        <img src="https://static.vecteezy.com/system/resources/previews/001/883/463/original/young-man-using-desktop-computer-sitting-in-chair-with-desk-free-vector.jpg" alt="Illustration of a person using a desktop computer" />
      </div>
      <form class="form" onsubmit="event.preventDefault(); startTest();" novalidate>
        <h2 id="loginHeading">ðŸ‘¤ Login</h2>
        <label for="name">Your Name</label>
        <input class="input" type="text" id="name" name="name" placeholder="e.g., Priya Sharma" autocomplete="name" required />
        <div class="error" id="nameError" role="alert">Please enter a valid name (letters and spaces only).</div>

        <label for="email">Your Email</label>
        <input class="input" type="email" id="email" name="email" placeholder="e.g., priya@example.com" autocomplete="email" required />
        <div class="error" id="emailError" role="alert">Please enter a valid email address.</div>

        <button class="btn" type="submit">Start Test</button>
      </form>
    </section>

    <!-- Reading Section -->
    <section id="testPage" class="card" hidden>
      <div class="topbar" aria-live="polite">
        <div class="pill">Reading time left: <span id="time" style="margin-left:6px">05:00</span></div>
        <button id="startReadBtn" class="btn" type="button" onclick="startReading()">Start Reading</button>
      </div>
      <article id="paragraph" class="blurred" aria-label="Reading passage"></article>
      <button id="proceedToQuestions" class="btn proceed" type="button" onclick="loadQuestions()" disabled>I have read it â€” Attempt Test</button>
    </section>

    <!-- Questions -->
    <section id="questionPage" class="card" hidden>
      <div id="mcqs" class="mcq" aria-live="polite"></div>
      <button class="btn" type="button" onclick="submitAnswers()">Submit Test</button>
    </section>

    <!-- Results -->
    <section id="finalPage" class="card" hidden>
      <h2>Your Result</h2>
      <div class="grid">
        <div>
          <p><strong>Name:</strong> <span id="userName"></span></p>
          <p><strong>Email:</strong> <span id="userEmail"></span></p>
          <p id="scoreBlock"></p>
        </div>
        <canvas id="resultChart" aria-label="Score pie chart" role="img"></canvas>
      </div>
      <div id="answersReview" class="answers" style="margin-top:10px"></div>
      <button class="btn" type="button" onclick="showSuccess()" style="margin-top:12px">Final Submit</button>
    </section>

    <!-- Success -->
    <section id="successPage" class="card center" hidden>
      <h2>Thank you! Your result has been successfully submitted. <span aria-hidden="true">ðŸ˜Š</span></h2>
    </section>
  </main>

  <script>
  // ===== Content (Passages) =====
  const passages = [
  { "title": "Artificial Intelligence (AI)",
    "text": "Artificial Intelligence, or AI, is a branch of computer science that focuses on creating systems that can perform tasks that usually need human intelligence. These tasks include understanding language, recognizing patterns, solving problems, and making decisions. AI systems can process large amounts of data much faster than humans, and they can keep learning and improving without being told exactly what to do every time.\nOne common use of AI is in recommendation systems, such as those used by video streaming platforms. These systems study what you watch and suggest other videos you might enjoy. AI is also used in customer service through virtual assistants and chatbots that can answer questions instantly. In industries like healthcare, AI helps in predicting diseases and recommending treatments.\nAI can be divided into two types: narrow AI, which is designed to do a specific job like translating languages, and general AI, which aims to do any intellectual task that a human can do. While general AI is still in research, narrow AI is already widely used in daily life.\nAlthough AI can improve productivity and accuracy, it also raises concerns about privacy, bias, and job displacement. This is why experts emphasize the need for responsible and ethical AI development. When used wisely, AI can be a powerful tool to solve real-world problems and make life better for everyone.",
    "questions": [
      {"q":"Which type of AI is still mainly in research stage?","o":["Narrow AI","Applied AI","Reactive AI","General AI"],"c":"General AI"},
      {"q":"What is a common example of AI use in entertainment platforms?","o":["Video recommendation systems","Making the screen brighter","Slowing down videos","Changing video sizes"],"c":"Video recommendation systems"},
      {"q":"Why can AI process information faster than humans?","o":["Because it uses the internet","Because it can handle large amounts of data quickly","Because it has emotions","Because it sleeps less"],"c":"Because it can handle large amounts of data quickly"},
      {"q":"Which of these is a type of AI used for specific tasks like translation?","o":["Strong AI","Creative AI","Narrow AI","General AI"],"c":"Narrow AI"},
      {"q":"Why do experts stress responsible AI development?","o":["To prevent misuse and solve problems ethically","To make AI sleep more","To help AI become a person","To stop AI from learning"],"c":"To prevent misuse and solve problems ethically"}
    ]},

  { "title": "Cloud Computing",
    "text": "Cloud Computing is a technology where data and applications are stored and used over the internet instead of on a local device. The term 'cloud' comes from the idea that data can be accessed from anywhere, much like clouds are visible from many places. For example, saving files on Google Drive, watching videos on YouTube, or streaming movies on Netflix all use cloud computing.\nOne major benefit of cloud computing is that it saves space on devices and keeps data safe even if the device gets damaged. It also allows people to share files and work on the same project from different locations using apps like Google Docs. Businesses use the cloud to store large amounts of data, run websites, and quickly scale their services without buying expensive hardware.\nCloud computing offers flexibility, faster performance, and lower costs compared to traditional methods. Students use it to store assignments, collaborate on projects, and submit homework online. Teachers share study materials easily, and banks use it to secure customer records.\nAs more industries move to the cloud, security remains an important concern to protect data from hackers. Learning about cloud computing is becoming essential for future careers, as it is now a key part of many everyday services and businesses.",
    "questions": [
      {"q":"Which of these is an example of cloud computing?","o":["Saving files on a USB drive","Installing apps from a CD","Keeping documents in a local folder","Storing files on Google Drive"],"c":"Storing files on Google Drive"},
      {"q":"What is a major benefit of cloud computing for businesses?","o":["It allows quick scaling without expensive hardware","It makes devices heavier","It requires more electricity","It slows down websites"],"c":"It allows quick scaling without expensive hardware"},
      {"q":"Why does cloud computing save space on devices?","o":["Because it deletes old files","Because data is stored on the internet instead of the device","Because it compresses all files automatically","Because it replaces hard drives with clouds"],"c":"Because data is stored on the internet instead of the device"},
      {"q":"Which of these groups most commonly uses cloud platforms for distributing and collaborating on learning resources?","o":["Professional chefs designing new menus","Educators preparing lessons","Taxi drivers planning routes","Gardeners tracking plant growth"],"c":"Educators preparing lessons"},
      {"q":"Why is maintaining strong cloud security practices critical for organizations and individuals?","o":["To safeguard sensitive information from unauthorized access","To make the appearance of online cloud icons more attractive","To prevent natural weather changes","To reduce the brightness of device screens"],"c":"To safeguard sensitive information from unauthorized access"}
    ]},

  { "title": "Internet of Things (IoT)",
    "text": "The Internet of Things (IoT) is a technology where everyday objects like TVs, fans, door locks, and watches are connected to the internet. This makes them work in smart ways. For example, a smartwatch can track your heart rate and send updates to your phone. A smart light can be switched on or off using your phone, even if you are far away from home.\nIoT makes daily tasks faster and easier. Smart washing machines can send alerts when clothes are washed. Smart cars can display maps and live traffic updates to help avoid busy roads. Farmers use IoT to monitor crops and water plants only when needed. In hospitals, IoT helps doctors keep track of patient health in real-time.\nPeople also use smart door locks that work with passwords or phones. Offices install smart air conditioners that turn off when no one is present to save electricity. Schools can use IoT to notify parents when children arrive or leave.\nIn the coming years, IoT will connect more devices to improve efficiency and save resources. But safety is important, as connected devices must be protected from hackers. Learning IoT will be a valuable skill for future careers.",
    "questions": [
      {"q":"Which of these is an example of IoT?","o":["Using a normal wall clock","Writing in a notebook","Switching on a fan manually","Controlling a light through a phone app"],"c":"Controlling a light through a phone app"},
      {"q":"What can a smartwatch connected to IoT do?","o":["Track heart rate and send updates","Wash clothes automatically","Open car doors","Boil water"],"c":"Track heart rate and send updates"},
      {"q":"Why do farmers use IoT devices?","o":["To listen to music","To monitor crops and water them when needed","To drive faster","To clean barns automatically"],"c":"To monitor crops and water them when needed"},
      {"q":"Which place uses IoT to save electricity by turning off devices when unused?","o":["Parks","Factories","Offices","Shops"],"c":"Offices"},
      {"q":"Why is IoT security important?","o":["To protect devices from hackers","To make devices look better","To make internet faster","To keep batteries full"],"c":"To protect devices from hackers"}
    ]},

  { "title": "Cybersecurity",
    "text": "Cybersecurity is the way to protect computers, phones, and data on the internet from attacks by hackers. Just like we lock our homes to keep them safe, cybersecurity keeps our online life safe. Hackers try to steal passwords, money, or personal information. Cybersecurity uses tools and rules to stop them.\nToday, we use the internet for banking, shopping, studying, and even talking with friends. Without cybersecurity, hackers could steal money from bank accounts or share private photos. It is very important to keep data safe, especially for students and young people who use phones and social media daily.\nSimple steps help a lot: like using strong passwords, not sharing passwords with anyone, and not clicking unknown links. Keeping phones and computers updated is also important because updates fix old security problems. Using antivirus software keeps harmful files away.\nIn the future, as technology grows, hackers may also get smarter. More jobs will need cybersecurity experts to protect data. Learning about cybersecurity helps everyone stay safe and helps students get jobs too.",
    "questions": [
      {"q":"In the context of the passage, what is the core focus of cybersecurity?","o":["Safeguarding digital infrastructure and confidential data","Maintaining traffic control systems","Preserving natural habitats","Managing supply chains for food items"],"c":"Safeguarding digital infrastructure and confidential data"},
      {"q":"According to the text, what do hackers most frequently try to gain through cyberattacks?","o":["Access to personal login credentials","Large quantities of fresh air","Published novels or e-books","Clean drinking water resources"],"c":"Access to personal login credentials"},
      {"q":"Why does the author compare locking a home to implementing cybersecurity measures?","o":["Because both are preventive actions to ensure safety","Because both require a cool environment","Because both need to maintain a warm temperature","Because both result in an empty space"],"c":"Because both are preventive actions to ensure safety"},
      {"q":"If cybersecurity measures are weak or missing, what significant risk does the passage highlight?","o":["Theft of sensitive financial resources","Loss of decorative flowers","Collection of excess rainwater","Accumulation of small stones"],"c":"Theft of sensitive financial resources"},
      {"q":"What is the main benefit of using strong, unique passwords mentioned in the passage?","o":["Enhancing protection of online accounts","Improving walking endurance","Increasing food consumption","Helping people fall asleep quickly"],"c":"Enhancing protection of online accounts"}
    ]},

  { "title": "Robotics",
    "text": "Robotics is the study and creation of robots, which are intelligent machines designed to assist humans with a wide range of tasks. While some robots are built to resemble humans, many take on forms such as mechanical arms, wheeled platforms, or compact automated units. This field merges engineering, computer science, and electronics to design, program, and operate robotic systems.\nIn industries, robots assemble vehicles, package goods, and apply precise coatings. In healthcare, robotic systems enable surgeons to perform complex operations with enhanced safety. Domestic robots handle chores like cleaning floors, while space robots explore distant planets that humans cannot easily reach.\nRobots excel at tasks that are repetitive, hazardous, or physically demanding. They operate continuously without fatigue and can be adapted for specialized purposes, such as prosthetic limbs that respond to brain signals, helping people with disabilities. In public spaces like airports or malls, robots provide directions and information to visitors.\nLooking ahead, robotics may expand into teaching, elder care, and cooking. Students who learn robotics today could design the next generation of innovative machines. The field is rapidly advancing and offers exciting career opportunities.",
    "questions": [
      {"q":"According to the passage, which of the following best illustrates the field of robotics?","o":["Growing plants using automated irrigation","Designing mechanical systems that perform human tasks","Flying airplanes manually","Painting landscapes by hand"],"c":"Designing mechanical systems that perform human tasks"},
      {"q":"In the text, robots are primarily described as:","o":["Intelligent machines created to assist in various activities","Decorative gadgets with no functional purpose","Randomly moving mechanical toys","Natural objects that imitate human behavior"],"c":"Intelligent machines created to assist in various activities"},
      {"q":"Which form can a robot take based on the passage?","o":["Only large humanoid figures","Floating structures shaped like clouds","Mechanical arms or wheeled devices","Small glass containers"],"c":"Mechanical arms or wheeled devices"},
      {"q":"In manufacturing industries, one significant use of robots is:","o":["Playing live music for employees","Replacing internet networks","Assembling products such as cars","Broadcasting television programs"],"c":"Assembling products such as cars"},
      {"q":"As mentioned in the passage, a common function of domestic robots is to:","o":["Monitor energy usage in power plants","Automate household cleaning tasks","Teach programming languages","Play sports with family members"],"c":"Automate household cleaning tasks"}
    ]},

  { "title": "Air Flow Pvt. Ltd",
    "text": "Air Flow Pvt. Ltd., established in 1973, is a renowned Indian manufacturer known for its high-quality ventilation and HVAC (Heating, Ventilation, and Air Conditioning) solutions. Over five decades of experience, the company has delivered customized and energy-efficient ventilation systems across diverse sectors including commercial, industrial, residential, healthcare, education, hospitality, airports, and infrastructure.\nOperating from its facility in Greater Noida, Uttar Pradesh, Air Flow produces a wide range of products such as axial fans, jet and inline fans, centrifugal fans, duct accessories, grilles, diffusers, louvers, dampers (including smoke & fire dampers and volume control dampers), as well as sound attenuators.\nThe company emphasizes engineering excellence, reliability, and timely project delivery. Its solutions are praised for performance, durability, and energy efficiency, and it provides strong after-sales support to its clients.\nAir Flow Pvt. Ltd. is certified by recognized bodies and is listed with AMCA International for certified ventilation products, including various models of axial and inline fans.\nLegally known as Air Flow Private Limited, the business was incorporated in July 1973 under Delhi's Registrar of Companies. As of mid-2024, it remains active, with a registered office in Janak Puri, New Delhi, and a paid-up capital of approximately â‚¹1.21 crore.",
    "questions": [
      {"q":"In which Indian city is Air Flow Pvt. Ltd.â€™s primary manufacturing facility located?","o":["Noida Sector 63","Ghaziabad Industrial Zone","Faridabad Industrial Estate","Greater Noida, Uttar Pradesh"],"c":"Greater Noida, Uttar Pradesh"},
      {"q":"Which year marks the founding of Air Flow Pvt. Ltd?","o":["1973","1983","1963","1978"],"c":"1973"},
      {"q":"Among the listed products, which is specifically designed to reduce noise in ventilation systems?","o":["Axial fans","Volume control dampers","Sound attenuators","Jet fans"],"c":"Sound attenuators"},
      {"q":"Which international organization certifies certain Air Flow Pvt. Ltd. products?","o":["ISO Standards Council","Indian Standards Bureau","National Ventilation Authority","AMCA International"],"c":"AMCA International"},
      {"q":"What is the approximate paid-up capital of Air Flow Pvt. Ltd. as of mid-2024?","o":["â‚¹2.5 crore","â‚¹1.21 crore","â‚¹3.75 crore","â‚¹90 lakh"],"c":"â‚¹1.21 crore"}
    ]},

  { "title": "Virtual Reality (VR)",
    "text": "Virtual Reality (VR) is a special technology that creates a computer-made world where we can feel we are inside. We use VR headsets that cover our eyes and show 3D images. When we move our head, the view changes like in real life. It feels like visiting a new place while staying at home.\nVR is used in games where players feel they are inside the game world. In schools, VR helps students see historical places, science labs, or planets closely. Doctors use VR to practice surgeries safely. In the army, VR helps soldiers train without danger.\nWith VR, students can watch the inside of the human body, walk on the moon, or visit famous monuments. It makes lessons interesting and easy to remember. People can also travel virtually to places they cannot visit in real life.\nIn the future, VR may be used in online shopping to try clothes, in meetings to feel everyone is together, or to watch sports as if sitting in the stadium. Learning VR today will help students work in new fields tomorrow.",
    "questions": [
      {"q":"Which of the following best describes the main function of VR?","o":["Growing real plants in a digital garden","Creating actual physical environments instantly","Photographing real-life locations","Simulating an interactive computer-generated environment"],"c":"Simulating an interactive computer-generated environment"},
      {"q":"According to the passage, what device is essential for experiencing VR?","o":["Specialized VR headsets","Handwritten notes","Ordinary printed books","Traditional blackboards"],"c":"Specialized VR headsets"},
      {"q":"What kind of experience does VR aim to give users?","o":["A faster walking speed","Improved memory retention","A sense of being present in a new location","Increased physical strength"],"c":"A sense of being present in a new location"},
      {"q":"In which of these areas is VR already applied, as per the text?","o":["Manufacturing furniture","Cooking large meals","Teaching robots to walk","Immersive video gaming"],"c":"Immersive video gaming"},
      {"q":"In an educational context, VR can be used to:","o":["Order new library books","Explore historical sites and scientific concepts","Grow plants in classrooms","Distribute homework assignments automatically"],"c":"Explore historical sites and scientific concepts"}
    ]},

  { "title": "Blockchain",
    "text": "Blockchain is a new way to store data safely. It keeps data in small blocks, and these blocks are linked like a chain. Once data is saved in a block, it cannot be changed easily. This makes blockchain very secure. Blockchain does not need one central place; many computers keep the same copy of data. This is why it is called 'decentralized.'\nBlockchain is famous because of cryptocurrencies like Bitcoin, which use it to keep records of buying and selling safely. But blockchain can do more. It can be used in banks to keep safe records of money. Hospitals can use it to save patient data. Even supply chains use blockchain to track where goods come from.\nBlockchain makes data safe, transparent, and quick to check. Because data is shared on many computers, hackers cannot easily change it. This helps stop fraud and makes business trusted. It also removes middlemen, so work becomes faster and cheaper.\nIn the future, blockchain may be used for voting, ID cards, online education certificates, and even in music and movies to protect creators. Students who learn blockchain can get jobs in IT, banking, health, and many more fields.",
    "questions": [
      {"q":"What is the fundamental structure used by blockchain to store information?","o":["Rows in a spreadsheet","Encrypted paper files","Digital containers","Linked sequences of data blocks"],"c":"Linked sequences of data blocks"},
      {"q":"According to the passage, what links the individual blocks together in blockchain?","o":["A chain-like connection","An adhesive binding","A fiber-based link","A threaded rope"],"c":"A chain-like connection"},
      {"q":"Which word in the passage best describes the high level of safety provided by blockchain?","o":["Transparent","Decentralized","Secure","Flexible"],"c":"Secure"},
      {"q":"Why is blockchain referred to as a decentralized system?","o":["It is managed by a single authority","It has no physical storage location","It stores data in random sequences","Multiple computers maintain identical copies of data"],"c":"Multiple computers maintain identical copies of data"},
      {"q":"Which technology is specifically mentioned in the passage as relying on blockchain for transaction records?","o":["Cloud computing","Bitcoin","Artificial intelligence","Data warehousing"],"c":"Bitcoin"}
    ]},

  { "title": "Augmented Reality (AR)",
    "text": "Augmented Reality (AR) is a technology that adds computer images or data to the real world. Unlike Virtual Reality (VR), which fully covers what we see, AR shows real things with extra information or pictures. For example, when you play PokÃ©mon Go on your phone, the game shows PokÃ©mon in real places using AR.\nAR is used in education to show 3D models of science diagrams or historical places. In shopping, AR lets you see how furniture looks in your room before buying. Doctors use AR to see bones or organs on the body while treating patients. AR is also used in sports to show scores on TV during live matches.\nAR makes learning fun and easy. It helps people see things that are hard to imagine. In shopping, AR saves time and money by letting you try products virtually. In factories, AR guides workers to fix machines by showing step-by-step help.\nIn the future, AR may be in glasses we wear every day to show maps, messages, or health data. Students who learn AR can work in gaming, design, education, and health sectors.",
    "questions": [
      {"q":"Which description best fits the role of AR in combining physical and digital elements?","o":["Placing holograms into fictional movies","Projecting dreams into a headset","Replacing all physical objects with digital models","Overlaying digital visuals or data onto real-world environments"],"c":"Overlaying digital visuals or data onto real-world environments"},
      {"q":"PokÃ©mon Go demonstrates AR by:","o":["Blending game characters with actual surroundings","Displaying animated maps only indoors","Replacing the sky with a fantasy world","Showing virtual objects without any camera view"],"c":"Blending game characters with actual surroundings"},
      {"q":"In the passage, AR is said to present the real world combined with:","o":["Additional decorative objects","Layers of virtual reality scenarios","Supplementary information or imagery","Recorded sound effects"],"c":"Supplementary information or imagery"},
      {"q":"How does AR enhance school learning according to the text?","o":["By replacing textbooks entirely","By offering printed diagrams with labels","By streaming video lessons only","By displaying interactive 3D models of concepts"],"c":"By displaying interactive 3D models of concepts"},
      {"q":"In the shopping sector, AR allows customers to:","o":["Virtually preview furniture placement at home","Compare store discounts side-by-side","Replace product images with animations","Order items without internet access"],"c":"Virtually preview furniture placement at home"}
    ]},

  { "title": "5G Technology",
    "text": "5G means the fifth generation of mobile networks. It is much faster than 4G. With 5G, we can download movies in seconds and enjoy video calls without breaks. 5G uses new technology and more towers to send data quickly.\n5G is not only for phones. Self-driving cars use 5G to talk to each other and avoid accidents. In hospitals, doctors can do surgeries from far away with robots using 5G. In smart cities, 5G helps control traffic and save energy.\n5G makes internet speed super fast and connects many devices at once. It helps students watch live classes without buffering. Factories use 5G to run smart machines. Gamers enjoy online games with no delay.\nIn the future, 5G will help in virtual reality, smart homes, and even flying taxis. Students who learn about 5G today can work in telecom, robotics, and smart city projects.",
    "questions": [
      {"q":"Which statement best identifies the network stage referred to as 5G?","o":["The initial rollout of mobile data services","A phase focusing on third-generation connectivity","The advanced phase following 4G","The second upgrade after 2G"],"c":"The advanced phase following 4G"},
      {"q":"Compared to earlier networks, 5G primarily offers:","o":["Significantly higher data transfer speeds","An increase in water storage capacity","Better stone transportation facilities","Reduced digital communication needs"],"c":"Significantly higher data transfer speeds"},
      {"q":"The passage notes that 5G allows downloading movies within:","o":["Multiple weeks","Several hours","A matter of seconds","Half a month"],"c":"A matter of seconds"},
      {"q":"In the automotive sector, 5G enables vehicles to:","o":["Operate cooking functions automatically","Synchronize movements through intercommunication","Perform choreographed dance routines","Convert fuel into digital signals"],"c":"Synchronize movements through intercommunication"},
      {"q":"Hospitals benefit from 5G by allowing doctors to conduct:","o":["Remote-controlled surgical procedures","Art exhibitions inside operating rooms","Live musical performances during treatment","Virtual shopping for medical equipment"],"c":"Remote-controlled surgical procedures"}
    ]}
  ];

  // ===== State =====
  let currentPassage = null;
  let userAnswers = [];
  let readingStartTime, readingEndTime, testStartTime, testEndTime;
  let readingTimerInterval = null;

  const $ = sel => document.querySelector(sel);

  function show(el){ el.hidden = false; }
  function hide(el){ el.hidden = true; }

  function formatDuration(seconds){
    const m = Math.floor(seconds/60); const s = seconds % 60;
    return `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  }

  function startTest(){
    const name = $('#name').value.trim();
    const email = $('#email').value.trim();
    const nameError = $('#nameError');
    const emailError = $('#emailError');

    nameError.style.display = 'none';
    emailError.style.display = 'none';

    const okName = /^[A-Za-z\s]{2,}$/.test(name);
    const okEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);

    if(!okName) nameError.style.display = 'block';
    if(!okEmail) emailError.style.display = 'block';
    if(!okName || !okEmail) return;

    currentPassage = passages[Math.floor(Math.random()*passages.length)];
    $('#paragraph').innerText = currentPassage.text;

    hide($('#loginPage'));
    show($('#testPage'));
    window.scrollTo({ top: 0, behavior: 'smooth' });

    // Reset reading UI
    $('#startReadBtn').disabled = false;
    $('#paragraph').classList.add('blurred');
    $('#proceedToQuestions').disabled = true;
    $('#time').textContent = '05:00';
  }

  function startReading(){
    readingStartTime = Date.now();
    $('#paragraph').classList.remove('blurred');
    $('#startReadBtn').disabled = true;
    $('#proceedToQuestions').disabled = false; // Allow proceed any time after starting

    let secondsLeft = 300; // 5 min
    $('#time').textContent = formatDuration(secondsLeft);

    clearInterval(readingTimerInterval);
    readingTimerInterval = setInterval(()=>{
      secondsLeft--; $('#time').textContent = formatDuration(secondsLeft);
      if(secondsLeft <= 0){
        clearInterval(readingTimerInterval);
        readingEndTime = Date.now();
        loadQuestions();
      }
    },1000);
  }

  function loadQuestions(){
    clearInterval(readingTimerInterval);
    readingEndTime = Date.now();
    testStartTime = Date.now();

    hide($('#testPage'));
    show($('#questionPage'));
    window.scrollTo({ top: 0, behavior: 'smooth' });

    const wrap = $('#mcqs');
    wrap.innerHTML = '';

    currentPassage.questions.forEach((q,i)=>{
      const block = document.createElement('div');
      block.innerHTML = `
        <p><strong>${i+1}. ${q.q} <span style="color:#ef4444">*</span></strong></p>
      `;
      // Shuffle options (copy to avoid mutating original)
      const opts = [...q.o].sort(()=>Math.random()-0.5);
      opts.forEach((opt,j)=>{
        const id = `q${i}-o${j}`; // safe, ASCII-only id (avoids btoa/Unicode issues)
        const label = document.createElement('label');
        label.setAttribute('for',id);
        label.className = 'opt';
        label.innerHTML = `<input id="${id}" type="radio" name="q${i}" value="${opt}"> ${opt}`;
        block.appendChild(label);
      });
      wrap.appendChild(block);
    });
  }

  function submitAnswers(){
    testEndTime = Date.now();
    const total = currentPassage.questions.length;

    userAnswers = currentPassage.questions.map((q,i)=>{
      const chosen = document.querySelector(`input[name="q${i}"]:checked`);
      return chosen ? chosen.value : null;
    });

    if(userAnswers.some(v => v===null)){
      alert('Please answer all questions before submitting.');
      return;
    }

    const correct = currentPassage.questions.reduce((acc,q,i)=> acc + (userAnswers[i]===q.c ? 1:0), 0);
    const wrong = total - correct;

    hide($('#questionPage'));
    show($('#finalPage'));
    window.scrollTo({ top: 0, behavior: 'smooth' });

    $('#userName').textContent = $('#name').value.trim();
    $('#userEmail').textContent = $('#email').value.trim();
    $('#scoreBlock').innerHTML = `<strong>Total:</strong> ${total} &nbsp; Â· &nbsp; <strong>Correct:</strong> ${correct} &nbsp; Â· &nbsp; <strong>Wrong:</strong> ${wrong}`;

    const ctx = document.getElementById('resultChart').getContext('2d');
    new Chart(ctx, {
      type:'pie',
      data:{
        labels:['Correct','Incorrect'],
        datasets:[{ data:[correct, wrong], backgroundColor:['#22c55e','#ef4444'] }]
      },
      options:{ responsive:true, maintainAspectRatio:false, plugins:{ legend:{ display:true, position:'bottom' } } }
    });

    // Ensure canvas resizes nicely on mobile
    const canvas = document.getElementById('resultChart');
    canvas.parentElement.style.minHeight = '260px';

    // Answers review
    const review = $('#answersReview');
    review.innerHTML = '<h3>Review Your Answers</h3>';
    currentPassage.questions.forEach((q,i)=>{
      const block = document.createElement('div');
      block.innerHTML = `<p><strong>${i+1}. ${q.q}</strong></p>`;
      q.o.forEach(opt=>{
        const selected = userAnswers[i]===opt;
        const isAns = q.c===opt;
        const cls = selected ? (isAns ? 'correct':'incorrect') : (isAns ? 'correct' : '');
        const marker = selected ? 'âž¤ ' : '';
        const line = document.createElement('div');
        line.className = cls;
        line.textContent = `${marker}${opt}`;
        block.appendChild(line);
      });
      review.appendChild(block);
    });

    // Send to Google Form (optional)
    const readingTime = readingStartTime ? formatDuration(Math.round((readingEndTime - readingStartTime)/1000 || 0)) : '00:00';
    const testTime = testStartTime ? formatDuration(Math.round((testEndTime - testStartTime)/1000 || 0)) : '00:00';

    const formData = new FormData();
    formData.append('entry.1640574701', $('#name').value.trim());
    formData.append('entry.2044946124', $('#email').value.trim());
    formData.append('entry.645538404', total);
    formData.append('entry.895886336', correct);
    formData.append('entry.115296724', wrong);
    formData.append('entry.2140657840', readingTime);
    formData.append('entry.1238249296', testTime);

    fetch('https://docs.google.com/forms/d/e/1FAIpQLSfUJDDXqcvb_mz-ceL3yxA6kFF1ds4HEwDZzugyrO0tQVaBiA/formResponse', {
      method:'POST', mode:'no-cors', body:formData
    }).catch(()=>{});
  }

  function showSuccess(){
    hide($('#finalPage'));
    show($('#successPage'));
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
  </script>
</body>
</html>
